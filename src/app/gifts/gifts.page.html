<ion-header no-border>
  <div class="inspiring">
    <img src="../../assets/imgs/logo_inspiring.svg" />
  </div>
  <div class="febrafar">
    <img src="../../assets/imgs/logo_pec.svg" />
    <img src="../../assets/imgs/logo_febrafar.svg" />
  </div>
</ion-header>

<ion-content color="background">

  <ion-button
    (click)="back()"
    fill="clear"
    class="back">
    <ion-icon color="dark" mode="ios" name="arrow-back"></ion-icon>
  </ion-button>

  <ion-grid class="ion-no-padding">
    <ion-row class="print-header">
      <span>
        Clique nos brindes que deseja imprimir e depois em
        <strong>IMPRIMIR BRINDES</strong>
      </span>
      <ion-icon class="print-avatar" name="print"></ion-icon>
    </ion-row>
    <ion-row>
      <ion-col
        class="ion-no-padding"
        size="12"
        size-sm="6"
        size-md="4"
        size-lg="2.4"
        *ngFor="let product of products"
      >
        <svg
          [ngClass]="{ 'disabled': disableProduct(product) }"
          height="31"
          class="sticker-right"
          viewBox="0 0 30 31"
          width="30"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M20.2134 17.6523C20.2134 18.2811 19.6984 18.7906 19.0629 18.7906C18.4274 18.7906 17.9124 18.2811 17.9124 17.6523C17.9124 17.0236 18.4274 16.5141 19.0629 16.5141C19.698 16.5141 20.2134 17.0236 20.2134 17.6523ZM12.9039 13.0317C12.9039 12.403 12.3889 11.8935 11.7534 11.8935C11.1179 11.8935 10.6029 12.403 10.6029 13.0317C10.6029 13.6605 11.1179 14.17 11.7534 14.17C12.3885 14.1704 12.9039 13.6605 12.9039 13.0317ZM29.8447 18.7791C30.1098 19.5865 29.8195 20.4706 29.1255 20.9698L26.697 22.7154C26.3588 22.9584 26.1069 23.3016 25.9778 23.6949L25.0502 26.5197C24.7851 27.3271 24.0248 27.8735 23.1669 27.8735H20.1649C19.7468 27.8735 19.3392 28.0046 19.0009 28.2476L16.5724 29.9932C15.8784 30.492 14.9383 30.492 14.2443 29.9932L11.8158 28.2476C11.4775 28.0046 11.0699 27.8735 10.6518 27.8735H7.64977C6.79184 27.8735 6.03156 27.3267 5.76651 26.5197L4.83883 23.6949C4.70941 23.3016 4.45792 22.9584 4.11963 22.7154L1.69038 20.9698C0.996366 20.471 0.70574 19.5865 0.971178 18.7791L1.89886 15.9543C2.02828 15.5609 2.02828 15.1369 1.89886 14.7436L0.971178 11.9188C0.706127 11.1113 0.996366 10.2273 1.69038 9.72808L4.11886 7.98251C4.45714 7.73945 4.70902 7.39632 4.83806 7.00296L5.76574 4.17815C6.03079 3.37074 6.79107 2.82441 7.649 2.82441H10.651C11.0691 2.82441 11.4767 2.69329 11.815 2.45022L14.2435 0.704657C14.9375 0.205869 15.8776 0.205869 16.5716 0.704657L19.0001 2.45022C19.3384 2.69329 19.746 2.82441 20.1641 2.82441H23.1661C24.0241 2.82441 24.7843 3.37112 25.0494 4.17815L25.9771 7.00296C26.1065 7.39632 26.358 7.73945 26.6963 7.98251L29.1247 9.72808C29.8188 10.2269 30.1094 11.1113 29.8439 11.9188L28.9163 14.7436C28.7868 15.1369 28.7868 15.5609 28.9163 15.9543L29.8447 18.7791ZM11.753 15.7772C13.2856 15.7772 14.5279 14.548 14.5279 13.0317C14.5279 11.5154 13.2856 10.2863 11.753 10.2863C10.2205 10.2863 8.97813 11.5154 8.97813 13.0317C8.97813 14.548 10.2208 15.7772 11.753 15.7772ZM19.5627 11.4403C19.8014 11.1558 19.7619 10.7337 19.4744 10.4975C19.1869 10.2614 18.7602 10.3005 18.5215 10.585L11.2446 19.2576C11.0059 19.5421 11.0455 19.9642 11.333 20.2003C11.6205 20.4365 12.0471 20.3974 12.2858 20.1129L19.5627 11.4403ZM21.8378 17.6523C21.8378 16.136 20.5954 14.9069 19.0629 14.9069C17.5303 14.9069 16.288 16.136 16.288 17.6523C16.288 19.1686 17.5303 20.3978 19.0629 20.3978C20.595 20.3978 21.8378 19.1686 21.8378 17.6523Z"
          ></path>
        </svg>
        <ion-card
          [disabled]="disableProduct(product)"
          (click)="select(product)"
          button
          [ngClass]="{ 'selected': product.selected }"
          class="product-card"
          mode="ios"
        >
          <figure class="product-img-container">
            <img
              [src]="'../assets/imgs/' + product.id + '.jpg'"
              [alt]="product.name"
            />
            <p>
              {{ product.name }}
            </p>
          </figure>
          <ng-template [ngIf]="product.type == 'desconto_unidade'">
            <ion-text color="primary">
              <h3>Leve <strong>3</strong></h3>
            </ion-text>
            <h6>Pague <strong>0</strong></h6>
          </ng-template>
          <ng-template [ngIf]="product.type == 'desconto'">
            <ion-text color="primary">
              <h3>
                100%
              </h3>
              <h6 class="discount">de desconto</h6>
            </ion-text>
          </ng-template>
          <ng-template [ngIf]="product.type == 'fixed'">
            <h6 class="price before">
              2,00
            </h6>
            <ion-text color="primary">
              <h3 class="price after">
                0,00
              </h3>
            </ion-text>
          </ng-template>
        </ion-card>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="index">
        {{ totalSelected }} / {{ max }}
      </ion-col>
      <ion-col class="ion-text-right">
        <ion-button [disabled]="totalSelected == 0" (click)="print()">
          <ion-icon name="print" slot="start"></ion-icon>
          Imprimir Brindes
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
